# PsyMetric Development Roadmap\n\n## Current System State (February 2026)\n\n**Architecture**: Database-centric content management system for AI/LLM educational content  \n**Tech Stack**: Next.js 16, React 19, Prisma, PostgreSQL (Neon), TypeScript, Vercel  \n**Philosophy**: Manual-first, human-gated, deterministic operations\n\n---\n\n## ‚úÖ **Phase 1 ‚Äî Core Infrastructure (COMPLETE)**\n\n### 1A ‚Äî Database Foundation\n- **Prisma schema**: Entities, relationships, event logging\n- **Entity types**: Content (Guide/Concept/Project/News), Source (SourceItem/SourceFeed), EventLog\n- **Relationship graph**: Explicit `EntityRelation` model with typed relationships\n- **Event sourcing**: Append-only `EventLog` for all state changes\n- **Status lifecycle**: `draft ‚Üí publish_requested ‚Üí published ‚Üí archived`\n\n### 1B ‚Äî Source Capture & Triage\n- **Manual capture**: Dashboard interface for source intake\n- **Chrome extension ready**: API endpoint `/api/source-items/capture`\n- **RSS ingestion**: Automated feed processing with deduplication\n- **Content hashing**: SHA-256 for duplicate detection\n- **Triage workflow**: `ingested ‚Üí triaged ‚Üí used ‚Üí archived`\n- **Event logging**: `SOURCE_CAPTURED`, `SOURCE_TRIAGED`\n\n### 1C ‚Äî API Layer\n- **Entity CRUD**: `/api/entities` with strict validation\n- **Source management**: `/api/source-items` with capture workflow\n- **Event logging**: `/api/events` read-only access\n- **Relationship management**: `/api/relationships` (GET/POST/DELETE)\n- **Error handling**: Consistent response shapes, proper HTTP codes\n- **Pagination**: Deterministic ordering (`createdAt desc, id desc`)\n\n### 1D ‚Äî Admin Dashboard\n- **Source Inbox**: Complete triage interface with status management\n- **Entity Editor**: PATCH endpoint with allowlisted fields\n- **Lifecycle Actions**: Status transitions with proper validation\n- **Search & Filtering**: Entity type, status, text search\n- **Toast notifications**: Success/error feedback\n- **Pagination controls**: URL-driven state management\n\n**Status**: ‚úÖ **Production Ready**\n\n---\n\n## ‚úÖ **Phase 2A ‚Äî Entity Management Enhancement (COMPLETE)**\n\n### 2A.1 ‚Äî Entity Detail Views\n- **Read-only metadata**: Complete entity information display\n- **UUID validation**: Proper error handling for invalid IDs\n- **EventLog timeline**: Chronological history with details\n- **Timestamp formatting**: Localized date/time display\n\n### 2A.2 ‚Äî Allowlisted Field Editing\n- **PATCH `/api/entities/[id]`**: Surgical field updates\n- **Strict allowlist**: `title`, `summary`, `contentRef`, `canonicalUrl`\n- **No lifecycle mutation**: Editor cannot change status\n- **Event logging**: `ENTITY_UPDATED` with field details\n- **Optimistic UI**: Client-side state management\n\n### 2A.3 ‚Äî Lifecycle Controls\n- **Status validation**: Proper state transition enforcement\n- **Action buttons**: Request Publish, Publish, Reject, Archive\n- **Event emission**: `ENTITY_PUBLISH_REQUESTED`, `ENTITY_PUBLISHED`, etc.\n- **Human-gated**: No automation in lifecycle transitions\n\n**Status**: ‚úÖ **Complete**\n\n---\n\n## ‚úÖ **Phase 2B ‚Äî Relationship Management (COMPLETE)**\n\n### 2B.1 ‚Äî Relationships Panel\n- **Bidirectional display**: Incoming + Outgoing with direction labels\n- **Friendly linking**: Content entities link to detail pages\n- **Batch resolution**: Efficient entity lookup for display\n- **Deterministic ordering**: `createdAt desc, id desc`\n\n### 2B.2 ‚Äî Create Relationships\n- **POST `/api/relationships`**: Transactional creation\n- **Validation**: UUID format, enum types, no self-relations\n- **Duplicate prevention**: Composite key uniqueness\n- **Event logging**: Exactly one `RELATION_CREATED` per creation\n\n### 2B.3 ‚Äî Delete Relationships\n- **DELETE `/api/relationships`**: Composite key deletion\n- **No wildcards**: Requires exact match on from/to/type\n- **Transactional**: Delete + event log in single transaction\n- **Event logging**: Exactly one `RELATION_REMOVED` per deletion\n- **UI integration**: Remove buttons with confirmation dialogs\n\n**Status**: ‚úÖ **Complete**\n\n---\n\n## ‚úÖ **Phase 2C ‚Äî Distribution & Metrics Dashboards (STRUCTURAL)**\n\n### 2C.1 ‚Äî Distribution Events Dashboard\n- **Path**: `/dashboard/distribution-events`\n- **Filtering**: Platform, primaryEntityId (UUID), status\n- **Validation**: Enum checking, UUID format validation\n- **Display**: Platform, linked primary entity, external URL, timestamps\n- **Manual tracking**: No auto-posting, human-recorded distribution\n\n### 2C.2 ‚Äî Metric Snapshots Dashboard\n- **Path**: `/dashboard/metric-snapshots`\n- **Filtering**: MetricType, platform, entityId (UUID)\n- **Ordering**: `capturedAt desc, id desc`\n- **Display**: Metric type, value formatting, linked entities\n- **Time-series ready**: Append-only metric storage\n\n**Status**: ‚úÖ **Structural Complete** (API + UI, no actual data models yet)\n\n**Note**: These dashboards exist and work, but `DistributionEvent` and `MetricSnapshot` models are not yet in schema. This is intentional‚ÄîUI is ready for when models are added.\n\n---\n\n## ‚úÖ **Phase 2D ‚Äî API Validation & Testing (COMPLETE)**\n\n### API Hammer Script\n- **File**: `scripts/api-hammer.ps1`\n- **GET smoke tests**: All endpoints return 200 for valid requests\n- **Validation tests**: Bad UUIDs/enums return 400 (not 500)\n- **Endpoints covered**: `/api/events`, `/api/entities`, `/api/relationships`, `/api/distribution-events`, `/api/metric-snapshots`\n- **Pass/fail reporting**: Clear success/failure counts\n\n**Status**: ‚úÖ **Complete**\n\n---\n\n## üöß **Phase 1 Completion Remaining (10% Left)**\n\n### Missing Database Models\n1. **`DistributionEvent` model** ‚Äî Manual distribution tracking\n2. **`MetricSnapshot` model` ‚Äî Time-series metrics storage\n3. **`Video` model** ‚Äî YouTube content tracking\n\n### Missing API Endpoints\n1. **POST `/api/distribution-events`** ‚Äî Record manual posts\n2. **POST `/api/metric-snapshots`** ‚Äî Log metric data\n3. **Distribution event lifecycle** ‚Äî Status management\n\n### Missing Dashboard Features\n1. **Public website layer** ‚Äî Content rendering for published entities\n2. **Entity publication workflow** ‚Äî Approve/reject interface\n3. **RSS feed management** ‚Äî Add/edit/disable feeds\n\n### Phase 1 Completion Criteria\n- [ ] All planned models exist in schema\n- [ ] All CRUD operations implemented\n- [ ] Public website renders published content\n- [ ] No automation beyond RSS feeds\n- [ ] Complete manual workflows established\n\n**Target**: Q1 2026 completion\n\n---\n\n## üîÆ **Phase 3+ ‚Äî Future Automation (NOT STARTED)**\n\n### Intelligent Content Operations\n- **OpenClaw integration**: Browser automation for source capture\n- **LLM content assistance**: Draft generation, SEO optimization\n- **Automated metrics**: Scheduled data collection\n- **Smart recommendations**: Relationship suggestions, content gaps\n\n### Advanced Analytics\n- **Performance tracking**: Cross-platform content analysis\n- **Content optimization**: Data-driven improvement suggestions\n- **Audience insights**: Understanding content consumption patterns\n\n### Distribution Automation\n- **Scheduled posting**: Human-approved automation\n- **Cross-platform coordination**: Consistent messaging\n- **A/B testing**: Content variation experiments\n\n**Status**: ‚ùå **Deliberately Not Started**\n\n**Philosophy**: Build solid manual workflows first, then carefully automate proven patterns.\n\n---\n\n## üéØ **Current Development Priorities**\n\n### Immediate (Next 2 weeks)\n1. **Complete `DistributionEvent` model** ‚Äî Schema + API + UI integration\n2. **Complete `MetricSnapshot` model** ‚Äî Schema + API + UI integration\n3. **Public website foundation** ‚Äî Basic content rendering\n\n### Short Term (Next month)\n1. **Entity publication workflow** ‚Äî Complete approval interface\n2. **RSS feed management** ‚Äî Admin interface for feeds\n3. **Content relationship audit** ‚Äî Ensure all connections are explicit\n\n### Medium Term (Q1 2026)\n1. **Phase 1 completion** ‚Äî All manual workflows established\n2. **Documentation audit** ‚Äî Ensure implementation matches design docs\n3. **Performance optimization** ‚Äî Query optimization, caching strategies\n\n---\n\n## üìä **System Health Metrics**\n\n**Code Quality**: ‚úÖ ESLint clean, TypeScript strict, build passing  \n**Test Coverage**: ‚úÖ API hammer script validates all endpoints  \n**Documentation**: ‚úÖ Architecture docs align with implementation  \n**Data Integrity**: ‚úÖ Foreign keys, constraints, event logging functional  \n**Security**: ‚úÖ No exposed credentials, proper validation  \n**Performance**: ‚úÖ Deterministic queries, proper indexing\n\n---\n\n## üîí **Phase Discipline Rules**\n\n1. **No Phase 3 leakage** into Phase 1/2 work\n2. **Manual-first** ‚Äî establish workflows before automating\n3. **Database-centric** ‚Äî all state changes flow through DB\n4. **Event-sourced** ‚Äî all operations logged for auditability\n5. **Human-gated** ‚Äî no autonomous content publishing\n6. **Deterministic** ‚Äî same inputs always produce same outputs\n\nThis roadmap reflects **actual implementation status**, not aspirational planning.\n